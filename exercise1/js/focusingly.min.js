function ready(fn){if(document.attachEvent?document.readyState==="complete":document.readyState!=="loading"){fn()}else{document.addEventListener("DOMContentLoaded",fn)}}ready(function(){var arr=[];document.querySelector("body").querySelectorAll("a, button, input, select, submit, textarea, [tabindex]").forEach(function(el,index){var col=getComputedStyle(el)["color"];if(col.indexOf("rgba")!==-1){col=col.split(", ")[0]+", "+col.split(", ")[1]+", "+col.split(", ")[2]+", 1)"}else{col=col.replace("rgb","rgba").replace(")",", 1)")}var _col=getComputedStyle(el)["color"];if(_col.indexOf("rgba")!==-1){_col=_col.split(", ")[0]+", "+_col.split(", ")[1]+", "+_col.split(", ")[2]+", 0)"}else{_col=_col.replace("rgb","rgba").replace(")",", 0)")}arr.push(["focusingly_"+index,_col,col]);if(el.classList){el.classList.add("focusingly_"+index);el.classList.add("focusingly_el")}else{el.className+=" focusingly_el focusingly_"+index}});var s=document.createElement("style");s.type="text/css";arr.forEach(function(item){s.innerText+="@keyframes show_"+item[0]+" {0% {outline: "+item[1]+" solid 2px; outline-offset: 0px;} 12.5% {outline-offset: 4px;} 50% {outline: "+item[2]+" solid 2px; outline-offset: 3px;} 100% {outline: "+item[2]+" solid 2px; outline-offset: 3px;}} ."+item[0]+":focus:not(:active) {position: relative !important; z-index: 99999 !important; animation-name: show_"+item[0]+" !important; animation-duration: 1s !important; animation-iteration-count: 1 !important; outline: "+item[2]+" solid 2px !important; outline-offset: 3px !important;} "});document.head.appendChild(s);document.querySelectorAll(".focusingly_el").forEach(function(item){var toReset=[];item.addEventListener("focus",function(){(function closest(el){if(el.parentNode.tagName==='BODY'){return false}if(getComputedStyle(el.parentNode)["overflow"]==='hidden'){toReset.push(el.parentNode);el.parentNode.style.overflow="visible"}closest(el.parentNode)})(item)});item.addEventListener("blur",function(){toReset.forEach(function(item){item.style.overflow="hidden"})})})});
